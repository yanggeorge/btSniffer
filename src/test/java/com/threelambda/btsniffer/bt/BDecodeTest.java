package com.threelambda.btsniffer.bt;

import com.threelambda.btsniffer.bt.util.Util;
import io.netty.buffer.ByteBufUtil;
import io.netty.buffer.Unpooled;
import lombok.extern.slf4j.Slf4j;
import org.apache.commons.codec.digest.DigestUtils;
import org.junit.Test;
import org.springframework.util.StringUtils;

import java.util.Map;

/**
 * @author ym
 * @date 2019/10/30
 */
@Slf4j
public class BDecodeTest {
    @Test
    public void test(){
        String rawHex = "64 31 3a 61 64 32 3a 69 64 32 30 3a 3b ac e4 eb\n" +
                "b3 a6 db 3c 87 0c 3e 99 24 5e 0d 1c 06 b7 47 bb\n" +
                "31 32 3a 69 6d 70 6c 69 65 64 5f 70 6f 72 74 69\n" +
                "31 65 39 3a 69 6e 66 6f 5f 68 61 73 68 32 30 3a\n" +
                "4a 02 1d dd 65 11 e7 5d 12 97 cc b4 88 5a 83 c5\n" +
                "4b 14 7d c4 34 3a 6e 61 6d 65 33 33 3a 43 7a 65\n" +
                "63 68 20 66 69 72 73 74 20 76 69 64 65 6f 20 37\n" +
                "20 6d 6f 6e 69 6b 61 20 50 49 52 40 54 45 34 3a\n" +
                "70 6f 72 74 69 35 34 38 34 37 65 35 3a 74 6f 6b\n" +
                "65 6e 35 3a 41 48 68 50 6e 65 31 3a 71 31 33 3a\n" +
                "61 6e 6e 6f 75 6e 63 65 5f 70 65 65 72 31 3a 74\n" +
                "34 3a c1 43 00 00 31 3a 76 34 3a 55 54 b1 00 31\n" +
                "3a 79 31 3a 71 65";
        String hexDump = StringUtils.deleteAny(rawHex, " \n");
        byte[] bytes = ByteBufUtil.decodeHexDump(hexDump);
        Map<String, Object> map = Util.decode(bytes);
        assert ((Map<String, Object>) map.get("a")).get("port") instanceof  Long ;
    }

    @Test
    public void test2() {
        String rawHex = "6431333a66696c652d6475726174696f6e6c693338386569306569306569306569306569306569306569306569306569306569343435656930656531303a66696c652d6d656469616c693065692d3165692d3165692d3165692d3165692d3165692d3165692d3165692d3165692d3165693065692d316565353a66696c65736c64363a6c656e67746869313837353238313665343a706174686c31393a312e20496e74726f64756374696f6e2e6d7034656564363a6c656e677468693930323033393865343a706174686c32333a31302e2050726f70657220466c616e67696e672e6d7034656564363a6c656e67746869313339323838383265343a706174686c31393a31312e2050726f706572204563686f2e6d7034656564363a6c656e677468693235363231353865343a706174686c31353a31322e20577261702d75702e6d7034656564363a6c656e67746869313332363532363965343a706174686c32333a322e20546865205269676874205265766572622e6d7034656564363a6c656e67746869313630393737373765343a706174686c32373a332e20526576657262204c656e677468204973737565732e6d7034656564363a6c656e67746869313435313439393165343a706174686c32373a342e205765742026204472792053657061726174696f6e2e6d7034656564363a6c656e67746869313231383039333165343a706174686c32363a352e2041766f69642042617373204275696c642055702e6d7034656564363a6c656e67746869313334343632353065343a706174686c32393a362e205265766572622053656e647320262052657475726e732e6d7034656564363a6c656e67746869313630333437323565343a706174686c33303a372e205573696e6720446966666572656e7420526576657262732e6d7034656564363a6c656e67746869313731333038363165343a706174686c32323a382e2050726f70657220446f75626c696e672e6d7034656564363a6c656e67746869313035393139373665343a706174686c32333a392e2050726f7065722043686f727573696e672e6d7034656565343a6e616d6536333a41736b20566964656f202d20417564696f204d697374616b6573203130332e20313020436f6d6d6f6e205265766572622d44656c6179204d697374616b657331323a7069656365206c656e6774686932363231343465363a70696563657331323032303a9f871299debee0643e3a66e6798d41e6f8cacc8168618fd2168df5adb6963ae8a7954d2bda4d4730ce1ae6bae7f3ab3e013f8ca236ffc796b642bd02641ffaf24261e3481a76a187046282401abfb6bf79984549e1c88be599850e7177321f1e11938937482762387b059e596b45be4a3631dee27d86482656c7f46d46f6f28b5691d15cfe0764933601c40cb814e01b609a5b407d0d7698f4d835a96ee63985f8ed60f2c6356f5b268bc1af4b298c479af05c62885fb43a801f5bbd98e39fd56208e2332ba33ec585f1bae2795916e311c965ba23a1cdba57f087413fdd272736bbea969c21d2a9d07282c7b326e4b6e705d3c9f90b95de11acc93a444a7a3ef8e71c9a06c6bb43050051e35993ae0057832fca1d585b246902a9cc34eedec8581b1459fa4d5f28cf9721bd3441d845dfc8d68dbd84b68f4797e200e7db036a8406a5a250b7fb964430cb95467db7e4b2905ce17c23c829122909298da0967f7c0e1c4bfe34058599a2c13816cb18688917b123902998959319b1738f95d97c6742e0c12616916acf242febd9b9b1ea0ce3c43d99f2617d65754c4cc9da0ad99cae7cb8f282f92b31610acb7198fbf6fd18dc05f7e9a114204d38d03085aac64f41cbfe22f125c3856c94d3c235c24f665844a31bdfd6254b57f9d0c7f4d4ea501988d528168a073871a1b345189227c9aa9fe8318a7869ce789dcb988d0a72f3f81ba6ab8196738cdee7a85dd7f12e1cd41eb837f19271b400995ed267e3cece062a6dcdc3121da665f845aefbdb2ead160378bd1eb8143b07d61e5f411fcf1b70b26ad41eea6b7092274b118b36b30809115909343dedb96109b113d6a4156bc9b0df612edf85c758a71735dab0711d9b58d5c533f4d0b9ad4232c251762a65d4f9e64b352b2e2c474ceef2db46d3ac12e8b679c41dc7294e70f67dc32ab9b8691db284a943b312860201f9ec7941d9cdd3820fd040eaec59cfbfff3840e24e5581b12b9a1dfb52aa3387f084369f33868f376204009e069a22fa0a67f38939b5418ff60d445467dac7ec1c401f69e1d80d2bb5a3cd771a9d83a7e32b4193ff3ee365cfe4eb33ad775277e2d659a171ae254c466608daf6c2ba48a682604c86ca96cb489c73c81c13e6e3cbfa8b789d305eef62e81e711b354d2aa85e7f54e446d2ccef4a4fd90620434cd6a2036f776f88ab1c6c32dcd34fba256a611476b9e4a7b815c077832147c0b347272a22c9092af4ccd69abe954bfaa7dff41127a44ea05058b7f2943ca679f7436fb7af97470710117c92b1cd19e60f95f894756c04d6406bc7498d3c017f2e3be2ab6cb3e8af124369a2d1083162249d1d9efd63c66c21fcbf09de98b13a06bb2d5a0fc6ea0bef6d2aeea83dfda678030ce5f2a4f98b3b888b9501da9037af3d8d3a203df01ec0cb0db4c25c2dc016d55fc2134378937a1b3b0981ffca66be04f0b5284277d4f4b37c004c14800c6dcae61166132b56b998d552b65b6e70b32fe66fba5290b07c0dd61f798780e8eefffa41aca022d194c6b2a19cbd239d15793fd726a85e0e1f3ca4a561d3d1dbe2161fc93e156809957d26c651447127a3ffcba19495965ff1e9f69f610267341cd67746db92da58c9a0c9b64203bfd6a2e1d9d47ffc498fe9196dc1f3e8ccd08688f2674ab83bcc641fbb7121057cc6e9568410e7190228b64d8286e09f71a92402881b1706da56a1c9262961797254fdbca3c3db4a7e2eb43d5265cca088297af9a8322138b421859bee331d8df18757ad139214d844a6e597952b25c802f8e700ed8dcae2e2e9df9232ad07c07c9d7841e67e739cf073605337b4e8ebb0a0e9bdfdecd2646b7859d9b8631cb70717b1419ffc2ff1043af72e58320068e2751a004daeddb163fce951a5a65b113a497524578afdd0716d4d7c55335aad05fb3818a465b2714ae7decdeff68538496fe9b747b2958dce8d28c9e0609a152878ceeb0309e7034a91c02130c5ab7d6f4f66ed44322327a3e1061ca354d0c2cb9d47df52421c39c27bfc011def74d2217023de3a2ff7c9982e7e2bf0178f96cb26236532174dc18d55dbdb80d04428becef41eafcfe8c452708e0424b2cfe7c84fe508fe54e57f723b9284f1ce95df812c605fb9fa7b4bf49df9f5599151c700a3de5bc29098abcf02639c8c994a264825bb86a2b1ea85d0dbea0610590771c1e67ebbb7c3a409a0c31f29fc0444a28916616d47f8097448f512c3e39ce40a243e44bfecd40a12413aefd52e412383cb0a9b2dc6bb9400fd04320b303b465b1737dbddb92f1eadc9c962888be2193c10699650909882631722b43c83c5f75e78042246aca024a7b3c9ff9592267ac7dbbae438eaee2f37f7c6b3011befd043090329887032f80b453847701e7e40e67509541695a778bd74853c0e70eec557dd172409d3c66207d822df132ce9657db8ccd9dba263615d176f8e4067707aa51d7d0dc6b3fccd507f79886cdc7360ce1389254bdcf7b234701ef28e43bea77ba93edb521264b673d923723ab5c7565f7c25313250d138f71118284b009af00be30454ee78d9baad33155bbd13ba8fb1d6d51dca20b70c170d91276e197be2eaa006c81641f8aaea46ff04efa03fbf8801ba699b7a1e4c250a09ca21ec4d00367bbc94d45adabc898c857498b8c3a84143955208c38c3328fb46eb554e49e9bd00b6e3f7a27028260cbc3c3f607d53bfd3b454ac38eac20242572f487e0f98001e7234d3d93439aa70bc603ac6b20915c3bcbcb2d3ff26659a86e4f01027b2cb9e449c8706630acd33c9865144eeefd5a4a4212c84a5b60730178d5cdcbe3b4abef57ba60534db00b660c8ca98202fa20691be90fcd976b0934ec7970967d0106be6fb131bac0eaf9d59f967822342e08e1f30f8250519c2f2faccc0a056efc95774c882d3f2813ad4853898a2c2d9c5e2a85d88a65360233bb2e816cbc758df2cd568be1598dcaf52016d4ac97d8acf645cf46771ff3bf6aef257710664c9f9b58c600ec607451da09c1f9a03d467deb56e11a42713712d23be09dfc29ece169b1f1c3db2f3d5bc7be4e5fdcc131302d805dd91d86f66b8de8d882150e92baeb225c2b217bf5148ebc6649c4ed0ae87b29e7495c1d36e381db49c2987dbedd5c7cf215b9e69aab4dc34051d28b4fc6a8174734e60973a132910a9dbe07c38df74a391a6441544088d3b86f2ef486ed4829e9d691d4c1e3d8718dae1afd6cc79465ec4339feba883d5e355254e36e18904880a14c1902295f8baa86f1588ffe2e8e68a54b3c5c61c27f0c8d689cb21c81faa54e51a0e34a75fc2e6996111a57106d03393a3d5acf74f0e1bf2de5982c980daad9603922bf7d8a2eba4744d4d1584d1c16c437210bee2993e82c3de1db9a9ff7133b45157ba1f83ad0eaf8f69ff099cfb8cc2478f55cbfc532f23ad6e73b49c2ed5a09216eeba6f52101111bcb8194c9437e141b1fd8cff2842c989d611bea44615ca55dcb3ebb082df0dc924665537cf0ca2347e7c949eee0772adc8da89acf0f96ca3c07aadc62d65078f6600c4cd5f53ffc977eb8ae2127b6ca98eaba9725eca66ac2badc3fb25f19d78820b830361878331e111fbb3c13e862bd8c9988559bf07111dc6b45e1b718cc6a11b9e2b6274308010401c823b1de0762f7b34f62815a6308b1cf1df9604e8ad175eedd99f623b4f9ab831fbf7f347e8a97341713804b7c31ccd1e74339dfa511cfae654efcff03629463d10d768942295553d380231eda66e350fe70947bec2bed346304db6c8abe0e792d4fbc45fa15eb7bc957661260d74f0c2e3d6995bd8133f8c490364e021749f17491efff8bad53b84430bde2ee922fd5ff4e0657b67fa230fdc3d3eb15a75498d9cf76d1b82dddbcaa1c9fd41913581ecef7d391cfbce4740e44ac7316e6da8adf683989f988c26a0591013cf6803f02d4dbdd8ef2779e73b9b647165b1c56991c7039544a9b37bd4cc304469bb996f7132f3600cd26ee79b5876d86246b63cb8f2a63907bfddd411e6f258d18ecaaf740fff14d5f7cc062214021d8130d3895fc326dbfe52894753c72b928fb75e3641daa2ac307a091e61ae0b2474f232d66641669a732d322e736ff80c9fe103d1f549d3d288f5652e11c01725873cd8447eae85661af50e09ef681144cc6986b3403a023ca519e0be89a440c56f528b2f3f681a4cfcea42f3f184a7ea28db406b469542bdb67481ee8d5d71f3bea38053b4cbb6d691bc9eb76475efd20ca24c610fd9e83c9aa4ebaa01e6bb8ea3ee8f09532c966d133f4983e33d7ce8f19c9991966ed7b4eaf6ce59c927390c90942fffd217b7c6bff9f49638341f10024b751f0d5de952cc5ce7eeeff61b691de22e1a053e16f55e27c1c79a94a967f32088b6e4a4034e893b3f19d757b404d9fb5b18b58eb5f91d4248787ad3107e2e8906d7bb14351e9076fbe85a7816a23a0d83e8356d86887e343b689e05b53dec31ef5bc0b48bdd4e83ee9c1e390342b06b984754a7836b5c458dbec8d114ef71b5c74b78b6482185474e1828c4acaf27060d2c06dfcac8e57c27572b51c8580bf1f843a6203b513a4734d854c796bc3892442283efcbfea7fd38acc328493c703bb7b8b0ebd164a3d6a1f0a233d52693a050e4c7ccac144564dedac26353d10ab664adc6894123c450f34beeef7e49a25c497584a08db6940c381f21ecb01a34aacc26d8227781f395777844eb7532ee61537c88a3f2ec6e4c2cf43a608178da2ac537e4473adc64d1d294a1588f0ae129c6f78c6ee2575c68fc77e745c475ac72e8ecea6f18baae766d2f18254d64e81dd8d1ab2c5653c212321ba4dfb15d6068c03ffac8af3d02ee623503dc9b939fbb5ba008ebf940ba33a60da99f44a0b5743c8803276c2ac2fd309d3161563aa2300f68cae6699d99680505ce6380b3387fa66b32bf3b67c456122286160c41cc9951322b2d56b9436ba17d51ac312cbd8e1b1c7197b0bc13782118eaffe17bc0eb393dac929a27d92d147853027a50709909e2110a71d8e65fe6aa0a94ce0efdb02db1376584615638f743acc647cd72e2443c899764054d81ccf7f2b3af0204eb28989cca1496fdcbd6c0ca523c02c68f7965a36a78d4ff3494ae42a3a74bfe5a2a9dabeb68a13f1f5ed882c0025f055f2153f00c50fdee52b4ced01c80a73f1bef4f339a5c8baaba9dc34034b17aff737d9321937b00197f9de801ec6875632cb9f3dd7dc2987df53b9384093b5dd5403eb90bc34ba66adba3f3746ef1e17c7accb5eb69e0b2de9fe92721ceb28bb97c7122fea06c779b411f470563085072a6e1fcfa7ad8a017301df7a2bc992ca399669c7a4b600db1ba53c1e8104f69562dd242b6aed4f1c2eba710a53184e652ee20966c4b20162118f07a860e7176b1db547f772fbc4b7aaae88956eaf844cf1ff7c0d8a31c210dfa16ebabc1165a9ed78fba81a199b621b483bf5d86830fad24ce7f0b8f443c3709df3f6fbb3af65d89a7597ca068a25b6b22af754fcc81555fe7d6c5327c255a06e4089bf2bfa91e910fd9016b0d94e4069e6cb9ce2e65be5521a164ef141c257e62b9e07c2e78b805c6ac41460100346458074fc64a02e7d19c0a1932449727f98cc988c99cad58f23d779568d7b159e3bdb8c8d4109e26ad9c3bd7c9dbb460253ab777510e9476a1e2e2a80e996d793030b485ac8025513b3b843f8e8fc54883bcb93eeb82b4c5b5df1424b58526cd57d1dc4cefc11701b7cf41a8b10b0c700b0e7a39e8eac34e68e1b85829fa84b1f1a88f481ada5490f972a4033603fd558ee4a655eaf3a1b00563b41899053f22d3fbde13b8732ee46059b466720b8abec49d8c851eac119f4d97de5e410f58d0da8b1bca7237f0a8d3493393a49517170a28365deb2a3ae3faa567a054b7c0d9d213098ec1845dac3fbc88578459e74f700e18bfba40640c79ea1a15e3fcf9eec2edc36c4a6d3b2fc4db4ea9390b3fa9db4665f252aae3d63c07327588e159e40feb8182b8bd435d01439b8515fac264e9f73e5b6cbb2d1700161d011f2c0eff73045c2380af5363b3841864373c38313906c36ade824545fda265dd7d96015f745b64e2f3dace14ec91dc3c6f4e8d5812169566018cfc1d4d220dade27fa0fc04bccf8b7e085166f6d21305bb05097e136de449b7060eb070cdd4deb6cec0b7dfaf0c3eada4272f581104affaaa161e4ffd174425af2d9050fe53e1fe56a3f5c872da8cc052957997451f45e565e7a16b81d39b4f43a03d5a3613d2b606a1eec0dfe3d393e77378988ff28ade35543f1b9271fa146b7f8e2a048ea49a021c78d0502b240d523ed0ad8eb10cbc520be14f6e3cd18af8fe4258b84c581d80c5dad091b1f55e1b47ca3c3a928a08f8fc45255eb05e9448e142c203c5b96a0a14b52ef4e2bdf87d7fb4cafe17d47374466a50481dcbd567e6c635d2ef23ff58e44582d79074691aaf69258bae6b01531697ab3c6981bdf209a0dccb7523b7b44eb68a8107f65d9216a7cc578dae374b986c38cedad8d1308fb62e56dae556e138b1805f146eed47919b6f5670ed66213ca10e45c9b3a884456a65692d827c5537ed9566795e3117c0dac00b33f745e3eb9af8afe33e1cce823993ad324b9a414ab5a726caa2bed37316436bc0afc26bd474b551bae553c130c391af42f1d75a24c62d29a471a48317f5617a70518d09d695852e0ba5e34619fad1f04438aeeaeb11b2378cf97796f9eab614dceab0f43c0f5465b43cde21032879e4706b70304a618922556775126df6b63a4952d9d6eb5c01b5f69d3b76b93bba932f4838d2d934dd636f0b7f9e39fce55987cc0a099eede53824f2b31b3bedf9c0cd85218f386fc988a4fdf254aac02f712929ef398ec16c7d39d6dcb0df20abdc8d29d3c379ea90d537d28bca13f87ce3db5bc9d2d380038d4bc3abc3424793ec6f8fbca03073bf27a1c7c99cd89cfadb316e56947b58b9510734130b21c04952fa005f4c2583620f45118bf687f35f828453547bfd62d29946341a7fb643d7c34d45700d9defdd844433280f94c14ee1eca1cae292c2491c38fcc7bc49246e7c68884374e0d3f4cb34d1b79cb0500d6329fa573eea87145e85397b5a0d40c1a2af0f2464fc75fc5c6930ec07de2a8b14e83fdc0a90ac04817ba70be828a145657257665520749566c6ce06ff9f95c33a59c34861497acd43630799a119fcd5afab5d7e20384ca42477e996f1ec383c5816047aeb7f41a4860e0c6d2a00c79319230c38dd067716b6ee7e7591d821070d7d9c1d3339421628f04479f353f1c565e55e1977d0e868871199045a3e9880f566fbbe69942f1bdb78a4e4ee8f0289fff685bb18c3002a366678c8c215a82469b3a1564c0fb160fd632ab8787847e07a5d7759c519a8a44f8b5756945e99b8b96b5cbc8b711637567e6f016981920018e99b185cd2410513252e9e2189f4185e5c2b24044fa29f1a352f5b7d7965512b56b769dd9ae8db830aa6912da7acb510b2cab2f17278fc1394fad4239fc7bf5e12e439d446174f610a4551db3c52289824930fbca07314b90583accaa295d8840dc8fb8599e9bc75decfb7f694d737aa58060086a05fe530f23d2e8aeda5145ab558cef121f7579b8219897167cb2a9a4c7839652520ee794026ddcc2ffedcf3f40aa9c903f6a49673edc1b9c5bbe4b8e71365706aec5f9a13cf49e5bdca3197015b38efa322ee255844d62280742407e9bf4ffab515e3d08dc4e439195d8349dc99bb1852d56c1780e69f98bb8e753883d696f7b9665cf97776aecc6d73ce113cdfd5277e9e8a2d55622ad8c70e1e52228cc0df3bddd67c7c4c21d16d43d085cd0e0bbb1f127dd132f9a2b7d758081b7ada584eb2cd95a9e956f86713066a554c8407f0a6a17d993aafa3f39bf0343d7c556b7634aab240012bbc3ff636e3c623703740451a5dbd9037e19d1e65bad28df69d0017309695f35bd89d1f049e79ba16115e87c2c9e7adadd37e0adbfac63b6e341ef84222d50e501343e224dd8ed13a3cb663646f2a9aa01d631ce2188a5dd47a3dc5953529562a407ce7ba623ae47bafc2e531dc4eddc9bf4ebcac4f28b0b8bdd5d9db305f1e068205c72cd9b359bdbf12dd35e1a425425617c1ce93e05b361c562cbc0eb6cf3b2f244c72b89ac9bfebff491e0b3b813760d77e307e874deedebb30d18b9d01777faed09e7f93eac38eb2cf9bc119bf84505270842ac9de7fe9f17cc55cdf401358819bf6944b7a5a406c34e94e88a57c332899bacabae12f9b391eb76330dc0f108dbb809d076bee7b9a02e0e6b95c300b1fbba4a3ce4c42958c4b06477f8b11f147fdae772d8de471232c0f8e16b31e47004a87cdd8841a8d6bf3a8be35c5ac5ba8e8bb046395e25a4478f8f877f31080b741a22850f32133bd239fcb8e7de65ea55b2398651b8e5d998f3d45b18bfeb52c60280972f591da91739e26b68a58d7ab1516912b42e09fa76f8ccfa31c05a9368c6d0616478097452220d994b662f274942c4a16872870d54828a8506d0d80c0737e0166f6e42437663c7c54c33c18949742d4be1822d3c4de274a01a1db2971e7c7102bb2323d73bc51fd4ad9c78390d5bab71982f2d8db292cff4497d7a50e170e04f66621242203b72c01646bebaf2fdedf6a71321caac218e876460854156d3a3718749ad4627cb96bc0ddf6b8c77eb4d9f688794d664033b833c34b6dc9106b5994a392259279e6843405ba4d091ac320d7f96e2847d34c9f15f734cb374ccbae4e3be4dc488728d7b84d79649370a11c4fa53011f1e39b807e08639ad99786cf051653b383273f7b32b017a5d0a3542d7b871b5c47dbfbb4eb1d01dbd2a18c0a6064cb307743566b635176e3d08cbfa63debc0a2f9195e86c925e7dc444c1c7d754f17d83bbaad20f863a994a146fa5978196fe203d14eaf399d80414da044fc5ba1a4757bba4dc3bdf1b5ccce0541a1ca7a24d21c4858ec90af7da78b8cb36675eb6d185b5d7fa8098b2d49fa8dd06cf8c84d54f66bf572ca5ee5c324fb9ccd832d43445b5ac5c0a482285cc317c6554d075f19394f695a4d53a61229ca44217ca2de91ed7654e514b6a3a96cb2190d54d567054c9983ce1ad5a61d7a9010edb173d62044e02ca08342297102f415222b5a2f55b1035938e9f21609858144313f01dce90ed0080b20a22aa702ef680a5fc22b0fc97ee826f269240e0f95aa26b92afec64956808c2b0f7aee0a5936502e161283a7987be0df59798d2df575ab0b44d3fb4b4e395f40b8eb361747809dffdd61238248f125209ac136ec8eb0bb1f53cb27a5c1e759f2d7adb3a3f609a4930a335c831f43dcf6e4f6385103d61893635134fe63532307584407c354aa5ebf6453196416f5bb3b44e2eff0d207676d3b4393e3cb69d97008182459beb25c6e29c4f23a8bdc2004aec88136a69192a5bf066912e5a7b0efa46d996eb280541694f68961bf22025c4c88a8ccf0076498eeca7ce97c4c3536ce42393339af670e87a17a69eb95913d62bba83f0387a8f7f0bfebb7cf475a9b6b165fecdd2602bb1c9f570813c9faa5f31498237de294f3b20e81b014707c7e5f6ccb69279d311e26de20129703b0037e1156321326119f23317e7cc7104935409fa8edc776c141023f293fee32ec192883194c6a6c7a6495d5cad68354f974d29ea5cb0239211e2bf97d9e5887f5f93dd44604f36cdf552d18cdc0ec34ef97045d7f745d08d1233009a4ab96129e7b0559d337572927f242f45281841316fc4d90c36217c45fdc304824db5db28d00fa43db3231ecb20973fe00f786099d7cc3dba6d6b3b333f5d5d3a675063fcdfd562348e1602aafa5174d98f7498e0d99ba5fb80054eb5a48c48c3c6d127f3088c325a2a311b90dd4f7bd73fa167b69dc2273bf6337943af77c2f38edf85e29d83870e7f58a1a2d2f1c68b6436f4a9ece707da3478c73a92bfe84f55428e2b8bd51929286496e716433d885eb1238a90bd9639e5ecd8c6ba0b829ebe961d93e4124889fa2d25cd353f8a4dfde40bc9ef3c57b15a96211e15020c9b0bbf895b7b32402fce3ec0e90499c9fc0ba62eeb6291e6c249ac4b15149a03a3dfe984c8a9069f9a5a3f6f9fd56446fca60032e283fcd2ab3b5b10908d2618e7e1ae14020a5054a7cd7165e083b5722421033ed77e6f8b09f7662ce674e4c8f101d8e6106a2012fd666bf9d26ed07dcbe9dee993d65f32ee067d84a3e22f70ad0a14f205c0b0a2bded2fa33105f1d4a6fc643b2ce664380d7f797062188970bfb42d9188fea696dd40fe7966f3905d0fd74f079c14a2f69ba624fd3a83cb5e44c573ada882e35eeecf42ab1c49e08d5bba7a42c95a3e2eb0b7c48d66b9d0f61392c429bca100db2639926cab8067d6b03be0bd0937eeb0d8ce235e3ac72dd02625ceab0cfb7409bb92d255465e108e9883a1fdf32c27d826e2aa75fb0f6ec072ed0c986c101ba93e5bb3d0898ce8ac7b2e441da2dfb2efc6e9c8fa08e2e067c883c11d54af7de0b62ff35d69059e3b5e91a7f96e46c55f56f013a667d18b0aaf920d9210db2266b56ab4816e29fe416d9f62eebccd4e033b1154b7f28ef2b7415045112e545eb607d60a7338776241b0dee3faf7ecb02900179e41e1578191b152553acc539429f8b82569d3e532107b899353cfecd5ec9b84e381f30606265cc6646cc93bb563c3a974aa4ec2739ca666da1017638a97c4296d73441e7c8235567bfba293149759273b3bc6d90d78d4e9e0d7711704d4a8de9378e0eddb856944e7086438c23761077f9302a6fc3d0020510655107490b93cb427f962c9b493415ce25d827c9a68a818a65173c93ccf8fa5139c043087b36a9b67efe421eeee8a2811ed4ca0d9db5eb86bb4e3b253fd478bbf441708fa257d5e1ec568bfe50babfe4fccd2b773341c728bd23387be0baad9ac5b58f1d4ddf06f2c712acd4277d0487d8569734c532d3b2cf253dce00a7147d71bb4c60a2d3e70e0662bf16307d6ce3015a1214d78525e50c5ac57f99147ac773d6b1d779524942786c61d6766a97eaae175d7d821ab8a6469799b3e4f6fd8ef4a0d013f71f744c351fbb07e96738fbb5fb9c4438451776f72d973b9873bc05c903197410c9340fa7309ed8024913975044a95c28367f2afa48dfb62302e5c90545ed90ac033fa02d6daf69e768d1b73a3eb88809276460bcc3caed4702724d9c8c8377d73e07a1c1474aaaa3cf8b43fb1d1753210dc1b6596463ff8b9e8ef490673bb4d758b40815302b59d46817bb0025841889674ec7f6a5085f6cbdc60b26ab0660b4dc13f76be8fcf14b0873172acc1b21c9b6c2af7e3246176bca8c86e501914b59c30ae4aeba1aba676ad053a25c4e85b8ba1d4d5fb3708eb721f449087febc8f6edf5a49c8bcbd1b47e3fa56219adfc0f42059502b0da46792f22a76e031798bbb030bcc7df0ae624e397f620acb2b6c594226014a7a676ed852b248d7eb4aafba33a8ced5b421d98ffb3f6b2de66932ecf9d83f438ea2d908d0f2dfcd4c8d705cd9aa11345e945b10ef12aeb34924065a2ef1b7c0b47397a71f26d8fb53513ad03914d334924251621d66284920cc52390feff1fa14114d631e1c71a40889f7eaf8b30ed97d9f3f976aa6e0956a4e3c28879f7a405b590d22b4e070243f6d73f0e45835cebb8ef1e5d7812873178fbbb1b92c03c8a86dc79e3b79164e5a0c63f312e9da02ba0f15019bd43042452bde5f03ed84e1a6063dc77f79dec090ece3fcdbe779f8a08d7260fe8c8c67c453f260e92fa29142474f862895dd276bec524a74e02f3cce3a9ea52254b789b4f9d724ad9f9ef68c18bc1d98c2c4f91dea699c8b15a4769a28070f31d7f9011d4456bae217ade77e36959e730542f3ad41cd6b9d25bd8fbfc35301c835538d896df866d82c9448dba647e592622b41839bd167d56a2c2e6ab0f70600a9740efb540d9dbcb5cb84930e614b2ccc44032407bea53a7268da64cd4328adcb7c3fe9e39e66dac73d23224386863f1f6210293016838b05b61a3b5418eacd25f0fbeb642b9199e3ae30491f07771d23c38b3709f69a9d9a77c180de9129f8b3f63a1ba5e1c1b338a05d1c7739c8db74880305f3942e79c6884e0e34782df6a8ade41ef3d2679491ddbfe31d9c1267fff45ab5efea1c671dbe284cd5fe125982315da39b6e99bf76110c5f1215e9d9839047c7d45836004837a1c53bb97d1a79fb35fd3d0ddc6d945c43cf3edf04e6989fb1dab8f9da52b47d403adde2223f4b49ee589254385097e66e5a9f9794c262916d221e19c0736f3dd2c3b80cb8aed3cfee32c6322f0e6e2a3eb9aa9b08b5f50a3da7a2290f44c48e4ca34a80c0e1be7c000314c81c8abbae190d95e7bf87cc71dd004df3675e5357c742ec42be3faff947519449b18293a69ff087a17a64c974176f1818f708d315d2f72b304d6e228968f729f3f4a1063d5a16358fb0d4cc4fa4d810e850ea7b102ee1c7fa66af76df03d332501c8e24281c9552d0e3eb9ab863096186543e4fb5476ea987ff86d9ae1d2019bc8cb6401cb1c27a2740a950678ecf6679fa732ac159a09922c93079afce1b366ec3f94eec9efc2bb2b4107eced5c1e6b1a70a31f4384b5699cf04ca9e965a4d312b2efe1424e75a6edb2d7b0dd56c0675bcbddc8de94809618b0f44ba2fcfa03512c4b22282576408b1baaddb6ca4f35ea50f97c5191a178b69ae7532e290f76412f6341695b18706a0707983c65d869891352e4d21c334d3043e260efc96c66b62da9e47410d9021d106e445c4343964c27cbb79fa673f183bd03ea09b0e426432cef55dd7288a22d4e534698589e0d3eb168ff8b4858def443fce99f0e18f097d8c9627bef9909f29ecd1860f5dea7e193763acd323089e61ba02a35e8dcdecea2f86437872acd784ee862e3d2bb0c984b5193dfa4e235ba137a3dfc9d669323fdf284914e5c54351327383fedbd5b9be005cfbc2b34221e9be8403b9b5dbb6dd190f0c3027dae3bfdd61c57f9298175b49a8348fb3df062a97358b9c2ab182dfdc9be73e30b76d98b2935e28e5675569523423605d7c0d9df16bd6f734c416ea9c5b2e1994d640e26917788640e28dc894a17e495cdcde92f86a5fba206bc34814557f3b74170fced8ce4fa987524221fea771cceff19c072f480694e28342081c71138951a5b8573e93ac4447b37dd96f5cead1e86fb3c3ae251b581257afabae1414ef9c53f48a9988163704d2616859706d5755ed23797b148fb9dc93e466804ec0b319370fbde644f4e645d89d36b2cdfaf0590e5e55f969ff695d263b7af2134214659d54a633a727d7911c32cbe315e9c2a7d9f47ba15dbfd76b2fd8159703f79139c5dd270ccbf1a30f48bac0a5e2dae2b760d06248a171e77dcbb6a0891b71594e4c7f90ca4e555dd4e3856c05bb21a4c31a46984af0d0b19ad9df163935d664bd785cbaa89ad0c20f65268838a6c1ba8a3608f58d10b09c1587111d4b6ca848f70575ca52566a7f980b233fb60b15ea23ea320a9cd1b16ca2201b543addd9d3e0a604528baaeffc0ae0c33bbb47d9a2a9096fe53f992df3543837d1e67588798eec9a2996ae9c3be510eef68dadb0154caaa2744861eae261204b50454081a7f5a71f61c19655b93da531c01cda62e247c94bf83db12fd067a53ab636638658b7a9e801ccbc6c9a6d288925b6b2e2710bb503ec32079b3a9a8cb060202c9fbccfbd1b7a0acc4aeeac8ed8d88df2b2b97a067ae04e839e00deed2c8ab06b4b138fa6e8e35f25e6a4321bc021693fa8ef2058e6dea7aecd074db8403b5b293893414f74b1826b52d870cb0f20483c532ee7f1197a05c4fd92a6b6ba8c9a63fba63e25aaefc10055c7c79ddfeefb9a11269e494d9579e87a567e483d6c2aaa4c0a7f6386a1a5cee2dbbe699122430fcb5fa27d88bd75b7c8883a0148cecb2a87e91c3172f25e9193c9529f9f7fe11ec413b78ea4c35a5e529563ad43efffb7a0f05a57458c03fe523879336750858cdc171ea954c62c1025e956d26d8d2d72e657d636db11577b9a7b530636785df0e265595d4d04a80b8a48ceb92edcfdf3514521382203ae16e44af63f403a3f37bbffe3f5b5abf0311314683369614228e1b10b40dd13661693297f726cd2d9e2c06c74262b9b639b94fb30c5ef25a64e1dc70f3e7078988c2948953235ca6992df273b8a9bf5afb355169f2a34a1c1f9c2ea2f192e426fc63499612b860245a2cf56ff881bc4d832a89107c95c6855d86cf0c09829bcade18595946d340c08f1d01c4b1c5a3d22191df48ce652eb3e0e086b2dfd3dfa5cafe82554b80ca7a8bbfb172837e05439960aea2a7cdf29563a866bb8c01ff5a772c7283b35b14e9e075f0126c5f443c503c3ecc1b5fe40dbf89f63150e2aa7fc72597c6584e93c1ffdfbad2d94c4394166da9168c97c3f8911f27b07ce6c50a79817d748a4dcf5870a245aad26f0eb58f0814779bfc4d6e6ad56530d4636f93e237d9eeb1bc1a04259b6984272aef02eb165731ff8ce9d240546df12570c8af033d8cd3be65f7a8ca5b147fca23c9bf010c18b0c1913d03e5d2c0138cec9529c35e574b2a65e526b78f811bca8cdc5deb59c4263c07fca7643030cf6786f5ffbb4bc6a1a22333cf96a5030ac0b4a2aa211a1f7cb14215ddc1c1569389be044ac6a50745ddf6dede5d006bbd79d8054cbc9a7f6816a319af18d9899364a3924a8542b5ae4a4b957d524ee9e430b393dfd08a152624a8946ac1490bc9add45ce13433b6a6cb3e725102992b15b3b786b8634eec65fad74d9890e58e81dc93dfd562e31b4d15a440b85b3bab07ca2d608cf1fccc1f5a6f349c25a3e722a2bb2d00d09a0aa7937e6f756b2c6c0d0ab0338e65fee9c66c492830696672f4c079590f2f5913d46b15379803535cb0afd90d874751019506b1c7f3eb0c79cc1c9717924d4358196bd4a3e05777e4209d935decf3cc8ca141e08ab8fcb98122f7678fe453000becf5a6357f3f96ba4480bfb7f3bbbc3c278372d8f92fae611de44d4cc10a4ab5e0caff4a0212ae7ee71e9f87ff53d8344e27d20b30f0eb37240499329b7f98cf280339c45a2c56f4be11906a391cb003545e571681f7eba3767e990411b0a7befd3a9f5f3201a821e5aedecda2ffd35be57d447c6848ba481fa651f66e7dcd9059da6220ff0628a9fc1c43d7c23823cde650f309d6132aa25da41a4c6451b461fccb380106b879f94560b4566d87935cb84fde81e36ab934013783cd291a0d14554c95958c062e6781391ab1d1482775d2ec1d7bbddc7ca47d6d8635096785e8af9706645b7ba64a938e4dc1c140bd49fff41908d32bc5419811af53bcaafd405cb8cecefd679ade391d8c409c3fa94fee6cde3801973694f3f6b7b958f75f4edf72c7a12aca2e3f5e8a82ba363fc4bffba9876598c7495fab887d60dec50015e264ced6ecd3a7ce97930fb11d522c5855878615635e1f230389a81171d22f413ce7ce8dc2a48b6da5baa0fe0fb8be0c0c3cfdde7d2a4570366db4465765c4febd5d9f30d70548ef1c11e63b13bc55dc3bbd1b2bcc9b3412a92fa53430ca118979d8a9dd41c1b6906e0f25b9fbd68e5a4be41ed170e24d4c1e746d64244a73d8483129d03d568454194a13981ef690fd416fc613b540f4f3761575d987ecfc479dfb7fa050d678c2f16f91525adb52229889ae37c57f16345280d4a518ba15cef8fa2f9bac8dd3d1f3d183d0feb29216b905126e926fd259159631b7222f7a873f227c794e20323e67b6ad77427501d1576e2f7cd75623bf992368188359776e855caf3cfb13ad462eacfec7e7ad6bdf4c69bde4aa1d3cbbc841b6355d57099f15adecd9e18c35fcf612d002745b22f8195a55b2796dace69d7c5c3fed2e9c59ee7933674b6d0a3656fd575772b925e86fae6176a5d414dd71b97e320dfdf0f326a9215a024662f16d34d329009af48581d28d7a70fb05b64aef824fc132dc035a5c933eff2240c141958b32904136ab01e0696f885588938b8d410b31cec90685dc7c0c52df7d5532e07978744fd574406d6a3cfd85c6b1d7b863656795a239086063f35d1dd627cef2e0091e90054aa3ae3e4cbfdd33a078ff0140ef4b650da9cd87bb5ac02c781ca41becae59676d662b989db5df5b5a1fbad912005437983e3a2dca7760b4fad89c25f7c29cc6e10831030cb545221aa771e5a7f71d2d1ba81b67f6901e43eb4f231e48152a4a52712283493177e66635da3d7480cd0cd1af6fa549af8f7f46b1ef72f6646a08431eabf98f8d11c3af0630422d141ee4b797125fa69b5ba011d593c5fe7ce67dd8b5bd8e9933d8edea8fb404e91ac4f4fdc1abef40854a518de1d834621fd49ed4d7c4976aadc46063a8a40d1b21dd863de671a64d62ac121176ddc5140198fa37fde4d80e70b16162ee014d89a580fed6abf3df64e70dd43a064165a5171f6b4ac65d8b644d331ecb3cc90edcd14d25f4b2b28786359005868f3bd06420eab06f17f8f379771901ab38b2dee82fa47543f258036984bde1109edfa89af04490802f93b293a1dd1675c0ff1dd404efb83d7f6f886859e023b45a36dd8fb5d5ab41184082f912feb943a0fcabc022e20ae3de9cca79a7aafb05cb8f5596d80607e99b36cfe69a68b1cc2c7b1408db49f881219906a108b5f58ff3355f9d4a892cf95f76e592e3e1174fce1ada79f7dc48bc8a5c437247ba40d1ca291f5abf212b5580de7885a929a8e2588065458b975bcea6d5fbb852262e364d6aeaf2bb17cb3da3d1ce03e4dda73c8d9a75b5778f29b0c07f58e4241f32828a40a784b8f42f036b0c400e28623f9f59c14c2061b4583e87a9e205a8b2e28455084fd349d5b125223f556cb595dd74093dbbd4c480a4da45bb973a92c929386944ab10443123af223deb6b661a87e62c41febf0d29383a70726f66696c65736c64363a61636f646563333a616163363a686569676874693065363a76636f646563303a353a7769647468693065656565";
        String infoHashHex = "35af1a534b6d227aa51c9f23f746398d928ace01";
        byte[] bytes = ByteBufUtil.decodeHexDump(rawHex);
        System.out.println(ByteBufUtil.prettyHexDump(Unpooled.copiedBuffer(bytes)));
        String infoHash = DigestUtils.sha1Hex(bytes);
        assert infoHash.equalsIgnoreCase(infoHashHex);
        Map<String, Object> dic = Util.decode(bytes);
        System.out.println(dic);
        bytes = Util.encode(dic);
        System.out.println(ByteBufUtil.prettyHexDump(Unpooled.copiedBuffer(bytes)));
        assert rawHex.equalsIgnoreCase(ByteBufUtil.hexDump(Unpooled.copiedBuffer(bytes)));
    }
}
